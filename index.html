<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Turnario VVF Smart</title>
    <style>
        /* --- CONFIGURAZIONE COLORI VVF --- */
        :root {
            --vvf-red: #ce3824;
            --vvf-dark: #060611;
            --vvf-teal: #308e89;
            --vvf-gray: #bac9d0;
            --vvf-bg: #f4f7f9;
        }

        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            background-color: var(--vvf-bg); 
            margin: 0; 
            padding: 20px 15px; 
            color: var(--vvf-dark);
            -webkit-font-smoothing: antialiased;
        }
        
        /* CARD E LAYOUT */
        .card { 
            background: white; 
            padding: 25px 20px; 
            border-radius: 16px; 
            box-shadow: 0 4px 20px rgba(0,0,0,0.06); 
            margin-bottom: 25px; 
            border: 1px solid rgba(0,0,0,0.05); 
        }
        
        .header { text-align: center; margin-bottom: 20px; }
        .header h1 { color: var(--vvf-red); margin: 0; font-size: 26px; font-weight: 800; }
        .header p { color: var(--vvf-teal); font-size: 14px; margin-top: 5px; font-weight: 600; }

        /* INPUT STYLE */
        label { font-weight: 700; font-size: 13px; display: block; margin-top: 18px; color: var(--vvf-dark); text-transform: uppercase; letter-spacing: 0.5px; }
        
        input, select, textarea { 
            width: 100%; 
            padding: 14px; 
            margin-top: 8px; 
            border: 2px solid var(--vvf-gray); 
            border-radius: 10px; 
            font-size: 16px; 
            background: #fff;
            transition: border-color 0.3s;
        }
        input:focus, select:focus, textarea:focus { 
            outline: none; 
            border-color: var(--vvf-teal); 
        }
        
        /* BOTTONI */
        button { 
            background-color: var(--vvf-red); 
            color: white; 
            border: none; 
            padding: 18px; 
            width: 100%; 
            border-radius: 12px; 
            font-size: 16px; 
            font-weight: 800; 
            cursor: pointer; 
            margin-top: 25px; 
            box-shadow: 0 4px 10px rgba(206, 56, 36, 0.3);
        }
        button:active { transform: scale(0.98); }
        button.secondary { background-color: var(--vvf-teal); box-shadow: none; margin-top: 10px; }
        button.ghost { background-color: transparent; color: #666; border: 1px solid #ccc; box-shadow: none; margin-top: 10px; padding: 12px; font-size: 14px; }
        
        /* LOGIN FLOW */
        .login-msg { font-size: 14px; text-align: center; margin-bottom: 15px; color: #666; }
        .error-msg { color: #d32f2f; font-size: 13px; margin-top: 5px; font-weight: bold; display: none; }

        /* BADGES TURNI */
        .badge { display: inline-block; padding: 4px 10px; border-radius: 6px; color: white; font-weight: bold; font-size: 0.9em; min-width: 30px; text-align: center; }
        .bg-A { background-color: #d32f2f; } /* Rosso */
        .bg-B { background-color: #2e7d32; } /* Verde Scuro */
        .bg-C { background-color: #1565c0; } /* Blu */
        .bg-D { background-color: #f9a825; color: black; } /* Giallo Scuro */

        /* RISULTATI */
        .result-box { background-color: #e0f2f1; border-left: 5px solid var(--vvf-teal); padding: 15px; border-radius: 8px; margin-top: 20px; display: none; }
        
        /* STORICO */
        .history-item { 
            border-bottom: 1px solid #eee; 
            padding: 15px 0; 
            position: relative;
        }
        .history-date { font-weight: 800; color: var(--vvf-dark); font-size:
